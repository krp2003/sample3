<div class="page-container event-details-page">
  <!-- Event Header -->
  <div class="card">
    <div class="card-body">
      <h3 class="card-title text-primary">{{ eventData.event.description }}</h3>
      <p class="card-text mb-1"><strong>Date:</strong> {{ eventData.event.schedule | date }}</p>

      <div class="meta">
        <p><strong>Status:</strong> {{ eventData?.event.status }}</p>
      </div>
      <hr />


      <b>Professionals:</b>
      <div *ngFor="let p of eventData.event.professionals">
        <p>{{p.username}} | {{p.email}}</p>
      </div>
    </div>
  </div>

  <!-- Resources Section -->
  <div class="card">
    <div class="card-header bg-light">
      <h5 class="mb-0">Resources</h5>
    </div>
    <div class="card-body">
      <div *ngIf="eventData.resources && eventData.resources.length > 0; else noResources">
        <ul class="list-group">
          <li class="list-group-item" *ngFor="let res of eventData.resources">
            <i class="bi bi-link-45deg text-primary me-2"></i>
            <a href="{{res.description}}">{{res.type}}</a>
          </li>
        </ul>
      </div>
      <ng-template #noResources>
        <p class="text-muted mb-0">No resources available for this event.</p>
      </ng-template>
    </div>
  </div>

  <!-- Feedback Section -->
  <div class="card">
    <div class="card-header bg-light">
      <h5 class="mb-0">Feedback</h5>
    </div>
    <div class="card-body">
      <div *ngIf="eventData.feedbacks && eventData.feedbacks.length > 0; else noFeedbacks">
        <div class="feedback-item border-start ps-3 mb-3" *ngFor="let fb of eventData.feedbacks">
          <p class="mb-1">{{ fb.comment }}</p>
          <small class="text-muted">
            By <strong>{{ fb.user?.username }}</strong> — ⭐ {{ fb.rating }}/5
            <p>{{fb.content}}</p>
          </small>
        </div>
      </div>
      <ng-template #noFeedbacks>
        <p class="text-muted mb-0">No feedback available for this event.</p>
      </ng-template>
    </div>
  </div>
  <div class="card shadow-sm mb-4">
  <div class="actions">
    <button routerLink="/view-events" class="btn-outline">Back</button>
  
    <button *ngIf="authService.getRole() === 'participant'" class="btn-primary">
      Enroll Now
    </button>
    
    <button *ngIf="authService.getRole() === 'professional' || authService.getRole() == 'institution'" 
            routerLink="/add-resource" 
            class="btn-primary">
      Upload Resources
    </button>
  </div>
  </div>
</div>

<input type="button" value="View Enrollments" (click)="viewEnrollments()">



<!-- Loading State -->
<div class="text-center mt-5" *ngIf="loading">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <p class="text-muted mt-2">Fetching event details...</p>
</div>




<!-- <div class="page-container event-details-page">
  <div class="card">
    <h2>{{ eventData?.event.description }}</h2>
    <p class="date">{{ eventData?.event.schedule | date:'mediumDate' }}</p>
    <p class="location"><strong>Location:</strong> {{ eventData?.event.location }}</p>

    <hr />

    <p class="description">{{ eventData?.description }}</p>

    <div class="meta">
      <p><strong>Status:</strong> {{ eventData?.event.status }}</p>
      <strong>Assigned Professionals:</strong> 
      <ul *ngFor="let p of eventData.event.professionals">
        <li>{{ p.username }} | {{ p.email }}</li>
      </ul>
    </div>

    <div class="actions">
      <button routerLink="/view-events" class="btn-outline">Back</button>

      <button *ngIf="authService.getRole() === 'participant'" class="btn-primary">
        Enroll Now
      </button>

      <button *ngIf="authService.getRole() === 'professional' || authService.getRole() == 'institution'" 
              routerLink="/add-resource" 
              class="btn-primary">
        Upload Resources
      </button>
    </div>
  </div>
</div> -->