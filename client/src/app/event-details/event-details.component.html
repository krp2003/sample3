<!-- <div *ngIf="loading" class="text-center mt-4">
  <p>Loading event details...</p>
</div>

<div *ngIf="!loading && eventData">
  <h2>{{ eventData.event.name }}</h2>
  <p><strong>Date:</strong> {{ eventData.event.schedule | date }}</p>
  <p>{{ eventData.event.description }}</p>

  <hr />

  <h3>ğŸ“š Resources</h3>
  <ul *ngIf="eventData.resources.length; else noResources">
    <li *ngFor="let res of eventData.resources">
       {{res.description}}
    </li>
  </ul>
  <ng-template #noResources><p>No resources available for this event.</p></ng-template>

  <hr />

  <h3>ğŸ’¬ Feedbacks</h3>
  <ul *ngIf="eventData.feedbacks.length; else noFeedbacks">
    <li *ngFor="let fb of eventData.feedbacks" class="feedback-item">
      <p>{{ fb.comment }}</p>
      <small>By <strong>{{ fb.user?.name }}</strong> â€” â­ {{ fb.rating }}/5</small>
    </li>
  </ul>
  <ng-template #noFeedbacks><p>No feedbacks yet for this event.</p></ng-template>
</div> -->

<div class="container mt-4" *ngIf="eventData">
  <!-- Event Header -->
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <h3 class="card-title text-primary">{{ eventData.event.name }}</h3>
      <p class="card-text mb-1"><strong>Date:</strong> {{ eventData.event.schedule | date }}</p>
      <p class="card-text text-muted">{{ eventData.event.description }}</p>
    </div>
  </div>

  <!-- Resources Section -->
  <div class="card shadow-sm mb-4">
    <div class="card-header bg-light">
      <h5 class="mb-0">Resources</h5>
    </div>
    <div class="card-body">
      <div *ngIf="eventData.resources && eventData.resources.length > 0; else noResources">
        <ul class="list-group">
          <li class="list-group-item" *ngFor="let res of eventData.resources">
            <i class="bi bi-link-45deg text-primary me-2"></i>
            {{res.description}}
          </li>
        </ul>
      </div>
      <ng-template #noResources>
        <p class="text-muted mb-0">No resources available for this event.</p>
      </ng-template>
    </div>
  </div>

  <!-- Feedback Section -->
  <div class="card shadow-sm mb-4">
    <div class="card-header bg-light">
      <h5 class="mb-0">Feedback</h5>
    </div>
    <div class="card-body">
      <div *ngIf="eventData.feedbacks && eventData.feedbacks.length > 0; else noFeedbacks">
        <div class="feedback-item border-start ps-3 mb-3" *ngFor="let fb of eventData.feedbacks">
          <p class="mb-1">{{ fb.comment }}</p>
          <small class="text-muted">
            By <strong>{{ fb.user?.username }}</strong> â€” â­ {{ fb.rating }}/5
            <p>{{fb.content}}</p>
            <p>Date: {{fb.datestring}}</p>
          </small>
        </div>
      </div>
      <ng-template #noFeedbacks>
        <p class="text-muted mb-0">No feedback available for this event.</p>
      </ng-template>
    </div>
  </div>
</div>

<!-- Loading State -->
<div class="text-center mt-5" *ngIf="loading">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <p class="text-muted mt-2">Fetching event details...</p>
</div>